{"version":3,"sources":["img/svg/Logo_imi_horizontal.svg","components/Header.js","components/Footer.js","store/mainReducer.js","store/store.js","img/svg/plus.svg","components/FormPage.js","components/Preview.js","components/MainContainer.js","App.js","index.js"],"names":["Header","className","src","Logo_imi_horizontal","alt","activeClassName","to","Footer","SET_PERSON_DATA","initialState","personData","children","mainReducer","state","action","type","name","formData","age","reducers","combineReducers","store","createStore","FormPage","setPersonData","composeValidators","validators","value","reduce","error","validator","undefined","required","isName","test","isAge","Input","input","meta","fieldLabel","hasError","touched","onSubmit","mutators","arrayMutators","initialValues","render","handleSubmit","values","push","form","hasValidationErrors","pristine","errors","console","log","component","validate","length","onClick","disabled","plus_icon","fields","map","index","hidden","initialValue","placeholder","remove","style","cursor","Preview","child","id","MainContainer","exact","from","path","props","Component","connect","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.14b83db4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo_imi_horizontal.ebc61eb0.svg\";","import React from 'react'\r\nimport Logo_imi_horizontal from '../img/svg/Logo_imi_horizontal.svg'\r\nimport {  NavLink } from 'react-router-dom'\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className='page-header'>\r\n        <img className='page-header__logo' src={Logo_imi_horizontal} alt=\"Alef Development\"/>\r\n            <nav className='page-header__nav-menu nav-menu'>\r\n                <NavLink className='nav-menu__link' activeClassName='nav-menu__active-link' to='/form'>Форма</NavLink>\r\n                <NavLink className='nav-menu__link' activeClassName='nav-menu__active-link' to='/preview'>Превью</NavLink>\r\n            </nav>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className='page-footer'>\r\n                <div className='page-footer__text'>all rights reserved</div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","const SET_PERSON_DATA = 'SET_PERSON_DATA'\r\n\r\nconst initialState = {\r\n    personData: {\r\n        // name: 'Василий',\r\n        // age: 25,\r\n        children: [\r\n            // { id: 1, name: 'Петр', age: 5 },\r\n            // { id: 2, name: 'Lena', age: 7 },\r\n            // { id: 3, name: 'Zhenya', age: 10 },\r\n        ],\r\n    }\r\n}\r\n\r\nconst mainReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_PERSON_DATA:\r\n            // console.log(action.personData)\r\n            return {\r\n                personData: {\r\n                    name: action.formData.name,\r\n                    age: action.formData.age,\r\n                    children: [\r\n                        ...action.formData.children\r\n                    ]\r\n                }\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n/* ACTIONS */\r\nexport const setPersonData = (formData) => ({ type: SET_PERSON_DATA, formData })\r\n\r\nexport default mainReducer","import { combineReducers, createStore } from 'redux'\r\n\r\nimport mainReducer from './mainReducer'\r\n\r\nlet reducers = combineReducers({\r\n    personData: mainReducer,\r\n})\r\n\r\nconst store = createStore(reducers);\r\n\r\n\r\nexport default store","export default __webpack_public_path__ + \"static/media/plus.26f09513.svg\";","import { Field, Form } from 'react-final-form'\r\nimport { setPersonData } from '../store/mainReducer'\r\nimport React, { useState } from 'react'\r\nimport arrayMutators from 'final-form-arrays'\r\nimport { FieldArray } from 'react-final-form-arrays'\r\nimport plus_icon from '../img/svg/plus.svg'\r\n\r\nconst FormPage = ({ personData, setPersonData }) => {\r\n\r\n    /* Validators */\r\n    const composeValidators = (...validators) => value =>\r\n        validators.reduce((error, validator) => error || validator(value), undefined)\r\n\r\n    const required = value =>\r\n        value\r\n            ? undefined\r\n            : 'Поле обязательно'\r\n    const maxLength = max => value =>\r\n        value && value.length > max\r\n            ? `Must be ${max} characters or less`\r\n            : undefined\r\n    const minLength = min => value =>\r\n        value && (value.length < min)\r\n            ? `Must be ${min} characters or more`\r\n            : undefined\r\n    const isName = value =>\r\n        value && !/^[a-яА-Яa-zA-Z ]+$/.test(value)\r\n            ? `Не корректное имя`\r\n            : undefined\r\n    const isAge = value =>\r\n        value && (!/^[0-9]+$/.test(value) || +value < 0 || +value > 150)\r\n            ? `Не корректный возраст`\r\n            : undefined\r\n\r\n    /* Custom input */\r\n    const Input = ({ input, meta, fieldLabel = '' }) => {\r\n        const hasError = meta.touched && meta.error\r\n        return (\r\n            <div className={'input ' + (hasError ? ' input_error' : '')}>\r\n                <div className={'input__head'}>\r\n                    <div className='input__title'>{fieldLabel}</div>\r\n                    <div className='input__error'>{hasError && <span> {meta.error} </span>}</div>\r\n                </div>\r\n                <input className='input__field' {...input}  />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Form\r\n                onSubmit={setPersonData}\r\n                mutators={{\r\n                    ...arrayMutators\r\n                }}\r\n                initialValues={personData}\r\n\r\n                render={({\r\n                    handleSubmit,\r\n                    values,\r\n                    form: {\r\n                        mutators: { push }\r\n                    },\r\n                    hasValidationErrors,\r\n                    pristine,\r\n                    errors,\r\n                }) => {\r\n                    console.log(errors)\r\n                    return (\r\n\r\n                        <form onSubmit={handleSubmit} className='main__form-page'>\r\n                            <div className='form-block'>\r\n                                <div className='form-block__title'>Персональные данные</div>\r\n                                <div className='form-block__inputs form-block__inputs_person'>\r\n                                    <Field\r\n                                        name='name'\r\n                                        fieldLabel='Имя'\r\n                                        component={Input}\r\n                                        type='text'\r\n                                        // placeholder={dataType}\r\n                                        validate={composeValidators(required, isName)}\r\n                                    />\r\n                                    <Field\r\n                                        name='age'\r\n                                        fieldLabel='Возраст'\r\n                                        component={Input}\r\n                                        type='number'\r\n                                        // placeholder={dataType}\r\n                                        validate={composeValidators(required, isAge)}\r\n                                    />\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <button\r\n                                type=\"button\"\r\n                                className={'button button__add-child button__add-child_' +\r\n                                (!values.children.length\r\n                                    ? 'first'\r\n                                    : (values.children.length < 5\r\n                                        ? 'more'\r\n                                        : 'disabled'))}\r\n                                onClick={() => push('children', undefined)}\r\n                                // onClick={onAddChildButton}\r\n                                disabled={values.children && values.children.length >= 5}\r\n                            >\r\n                                <div className='button__container'>\r\n                                    <img className='color-blue' src={plus_icon}/>\r\n                                    {values.children.length > 0 &&\r\n                                    <div className='button__text'>Добавить ребенка</div>\r\n                                    }\r\n                                </div>\r\n                            </button>\r\n\r\n                            <div className='form-block'>\r\n\r\n                                {values.children.length > 0 && <div className='form-block__title'>Дети (макс.5)</div>}\r\n\r\n                                <div className='form-block__inputs'>\r\n\r\n\r\n                                    <FieldArray name=\"children\">\r\n                                        {({ fields }) =>\r\n                                            fields.map((name, index) => (\r\n                                                <div className='form-block__inputs_child' key={name}>\r\n                                                    <Field\r\n                                                        name={`${name}.id`}\r\n                                                        component=\"input\"\r\n                                                        hidden={true}\r\n                                                        initialValue={index + 1}/>\r\n                                                    <Field\r\n                                                        name={`${name}.name`}\r\n                                                        fieldLabel='Имя'\r\n                                                        component={Input}\r\n                                                        placeholder=\"name\"\r\n                                                        validate={composeValidators(required, isName)}\r\n                                                    />\r\n                                                    <Field\r\n                                                        name={`${name}.age`}\r\n                                                        fieldLabel='Возраст'\r\n                                                        component={Input}\r\n                                                        placeholder=\"age\"\r\n                                                        validate={composeValidators(required, isAge)}\r\n                                                    />\r\n                                                    <div className='form-block__button-delete'\r\n                                                         onClick={() => fields.remove(index)}\r\n                                                         style={{ cursor: 'pointer' }}\r\n                                                    >\r\n                                                        Удалить\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))\r\n                                        }\r\n                                    </FieldArray>\r\n                                </div>\r\n\r\n                                <button\r\n                                    className={'button button__submit  button__submit_' + (!values.children.length\r\n                                        ? 'zero-child'\r\n                                        : 'one-child') + (hasValidationErrors ? ' button__submit_error' : '')}\r\n                                    type=\"submit\"\r\n                                    disabled={pristine || hasValidationErrors}\r\n                                >\r\n                                    <div className='button__container'>\r\n                                        <div className='button__text'>\r\n                                            Сохранить\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    )\r\n                }\r\n                }\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FormPage\r\n","import React from 'react'\r\n\r\nconst Preview = ({ personData }) => {\r\n    return (\r\n        <div className='main__preview'>\r\n            <div className='info-block'>\r\n                <div className='info-block__title'>Персональные данные</div>\r\n                {personData.name && <div\r\n                    className='info-block__data info-block__data_person'>{personData.name + ', ' + personData.age + ' лет'}</div>}\r\n            </div>\r\n\r\n            <div className='info-block'>\r\n                {personData.children.length !== 0 && <div className='info-block__title '>Дети</div>}\r\n                <div className='info-block__data'>\r\n                    {personData.children.map(child => <div className='info-block__data_child' key={child.id}>\r\n                        {child.name + ', ' + child.age + ' лет'}\r\n                    </div>)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preview","import { Redirect, Route, Switch } from 'react-router-dom'\r\nimport FormPage from './FormPage'\r\nimport Preview from './Preview'\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setPersonData } from '../store/mainReducer'\r\n\r\nclass MainContainer extends Component {\r\n    render () {\r\n        return (\r\n            <main className='main'>\r\n                <Switch>\r\n                    <Redirect exact from=\"/\" to=\"/form\"/>\r\n                    <Route path=\"/form\"\r\n                           render={() => <FormPage {...this.props} />}/>\r\n                    <Route path=\"/preview\" render={() => <Preview personData={this.props.personData}/>}/>\r\n                    <Route path=\"*\" render={() => <div> 404 Not Found </div>}/>\r\n                </Switch>\r\n            </main>)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    personData: state.personData.personData\r\n})\r\nexport default connect(mapStateToProps, {\r\n    setPersonData,\r\n\r\n})(MainContainer)","import './scss/App.scss'\nimport Header from './components/Header'\nimport React  from 'react'\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom'\nimport Footer from './components/Footer'\nimport store from './store/store'\nimport { Provider } from 'react-redux'\nimport MainContainer from './components/MainContainer'\n\nconst App = () => {\n\n    return (\n        <div className=\"App\">\n            <BrowserRouter>\n                <Header/>\n                <Provider store={store}>\n                    <MainContainer/>\n                </Provider>\n                <Footer/>\n\n            </BrowserRouter>\n\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App/>, document.getElementById('root'))\n"],"sourceRoot":""}