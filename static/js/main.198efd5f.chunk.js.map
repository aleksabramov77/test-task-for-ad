{"version":3,"sources":["img/svg/Logo_imi_horizontal.svg","components/Header.js","components/Footer.js","store/mainReducer.js","store/store.js","img/svg/plus.svg","components/FormPage.js","components/Preview.js","components/MainContainer.js","App.js","index.js"],"names":["Header","className","src","Logo_imi_horizontal","alt","activeClassName","to","Footer","SET_PERSON_DATA","initialState","personData","children","mainReducer","state","action","type","name","formData","age","reducers","combineReducers","store","createStore","FormPage","dispatch","useDispatch","composeValidators","validators","value","reduce","error","validator","undefined","required","isName","test","isAge","Input","input","meta","fieldLabel","hasError","touched","onSubmit","setPersonData","mutators","arrayMutators","initialValues","render","handleSubmit","values","hasValidationErrors","pristine","push","errors","form","component","validate","length","onClick","disabled","plus_icon","fields","map","index","hidden","initialValue","placeholder","remove","style","cursor","Preview","child","id","MainContainer","props","useSelector","exact","from","path","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.198efd5f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo_imi_horizontal.ebc61eb0.svg\";","import React from 'react'\r\nimport Logo_imi_horizontal from '../img/svg/Logo_imi_horizontal.svg'\r\nimport {  NavLink } from 'react-router-dom'\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className='page-header'>\r\n        <img className='page-header__logo' src={Logo_imi_horizontal} alt=\"Alef Development\"/>\r\n            <nav className='page-header__nav-menu nav-menu'>\r\n                <NavLink className='nav-menu__link' activeClassName='nav-menu__active-link' to='/form'>Форма</NavLink>\r\n                <NavLink className='nav-menu__link' activeClassName='nav-menu__active-link' to='/preview'>Превью</NavLink>\r\n            </nav>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className='page-footer'>\r\n                <div className='page-footer__text'>all rights reserved</div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","const SET_PERSON_DATA = 'SET_PERSON_DATA'\r\n\r\nconst initialState = {\r\n    personData: {\r\n        // name: 'Василий',\r\n        // age: 25,\r\n        children: [\r\n            // { id: 1, name: 'Петр', age: 5 },\r\n            // { id: 2, name: 'Lena', age: 7 },\r\n            // { id: 3, name: 'Zhenya', age: 10 },\r\n        ],\r\n    }\r\n}\r\n\r\n/* Reducer */\r\nconst mainReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_PERSON_DATA:\r\n            // console.log(action.personData)\r\n            return {\r\n                personData: {\r\n                    name: action.formData.name,\r\n                    age: action.formData.age,\r\n                    children: [\r\n                        ...action.formData.children\r\n                    ]\r\n                }\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n/* Actions */\r\nexport const setPersonData = (formData) => ({ type: SET_PERSON_DATA, formData })\r\n\r\nexport default mainReducer","import { combineReducers, createStore } from 'redux'\r\nimport mainReducer from './mainReducer'\r\n\r\n\r\nconst reducers = combineReducers({\r\n    personData: mainReducer,\r\n})\r\n\r\nconst store = createStore(reducers);\r\n\r\n\r\nexport default store","export default __webpack_public_path__ + \"static/media/plus.26f09513.svg\";","import { Field, Form } from 'react-final-form'\r\nimport { setPersonData } from '../store/mainReducer'\r\nimport React, { useState } from 'react'\r\nimport arrayMutators from 'final-form-arrays'\r\nimport { FieldArray } from 'react-final-form-arrays'\r\nimport plus_icon from '../img/svg/plus.svg'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst FormPage = ({ personData }) => {\r\n    const dispatch = useDispatch()\r\n\r\n    /* Validators */\r\n    const composeValidators = (...validators) => value =>\r\n        validators.reduce((error, validator) => error || validator(value), undefined)\r\n    const required = value =>\r\n        value\r\n            ? undefined\r\n            : 'Поле обязательно'\r\n    const isName = value =>\r\n        value && !/^[a-яА-Яa-zA-Z ]+$/.test(value)\r\n            ? `Не корректное имя`\r\n            : undefined\r\n    const isAge = value =>\r\n        value && (!/^[0-9]+$/.test(value) || +value < 0 || +value > 150)\r\n            ? `Не корректный возраст`\r\n            : undefined\r\n\r\n    /* Custom input */\r\n    const Input = ({ input, meta, fieldLabel = '' }) => {\r\n        const hasError = meta.touched && meta.error\r\n        return (\r\n            <div className={'input ' + (hasError ? ' input_error' : '')}>\r\n                <div className={'input__head'}>\r\n                    <div className='input__title'>{fieldLabel}</div>\r\n                    <div className='input__error'>{hasError && <span> {meta.error} </span>}</div>\r\n                </div>\r\n                <input className='input__field' {...input}  />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Form\r\n                onSubmit={formData => dispatch(setPersonData(formData))}\r\n                mutators={{ ...arrayMutators }}\r\n                initialValues={personData}\r\n                render={({\r\n                    handleSubmit, values, hasValidationErrors, pristine,\r\n                    errors, form: { mutators: { push } }\r\n                }) => {\r\n                    return (\r\n                        <form onSubmit={handleSubmit} className='main__form-page'>\r\n\r\n                            {/* Person data input block */}\r\n                            <div className='form-block'>\r\n                                <div className='form-block__title'>Персональные данные</div>\r\n                                <div className='form-block__inputs form-block__inputs_person'>\r\n                                    <Field\r\n                                        name='name'\r\n                                        fieldLabel='Имя'\r\n                                        component={Input}\r\n                                        type='text'\r\n                                        validate={composeValidators(required, isName)}\r\n                                    />\r\n                                    <Field\r\n                                        name='age'\r\n                                        fieldLabel='Возраст'\r\n                                        component={Input}\r\n                                        type='number'\r\n                                        validate={composeValidators(required, isAge)}\r\n                                    />\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            {/* Add child button */}\r\n                            <button\r\n                                type=\"button\"\r\n                                className={'button button__add-child button__add-child_' +\r\n                                (!values.children.length\r\n                                    ? 'first'\r\n                                    : (values.children.length < 5\r\n                                        ? 'more'\r\n                                        : 'disabled'))}\r\n                                onClick={() => push('children', undefined)}\r\n                                disabled={values.children && values.children.length >= 5}\r\n                            >\r\n                                <div className='button__container'>\r\n                                    <img className='color-blue' src={plus_icon} alt='plus'/>\r\n                                    {values.children.length > 0 &&\r\n                                    <div className='button__text'>Добавить ребенка</div>}\r\n                                </div>\r\n                            </button>\r\n\r\n                            {/* Children data input block */}\r\n                            <div className='form-block'>\r\n                                {values.children.length > 0 && <div className='form-block__title'>Дети (макс.5)</div>}\r\n                                <div className='form-block__inputs'>\r\n                                    {/* Array of child data inputs */}\r\n                                    <FieldArray name=\"children\">\r\n                                        {({ fields }) =>\r\n                                            fields.map((name, index) => (\r\n\r\n                                                /* Child input block */\r\n                                                <div className='form-block__inputs_child' key={name}>\r\n                                                    <Field\r\n                                                        name={`${name}.id`}\r\n                                                        component=\"input\"\r\n                                                        hidden={true}\r\n                                                        initialValue={index + 1}/>\r\n                                                    <Field\r\n                                                        name={`${name}.name`}\r\n                                                        fieldLabel='Имя'\r\n                                                        component={Input}\r\n                                                        placeholder=\"name\"\r\n                                                        validate={composeValidators(required, isName)}\r\n                                                    />\r\n                                                    <Field\r\n                                                        name={`${name}.age`}\r\n                                                        fieldLabel='Возраст'\r\n                                                        component={Input}\r\n                                                        placeholder=\"age\"\r\n                                                        validate={composeValidators(required, isAge)}\r\n                                                    />\r\n                                                    <div className='form-block__button-delete'\r\n                                                         onClick={() => fields.remove(index)}\r\n                                                         style={{ cursor: 'pointer' }}\r\n                                                    >\r\n                                                        Удалить\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))\r\n                                        }\r\n                                    </FieldArray>\r\n                                </div>\r\n\r\n                                {/* Submit button */}\r\n                                <button\r\n                                    className={'button button__submit  button__submit_' + (!values.children.length\r\n                                        ? 'zero-child'\r\n                                        : 'one-child') + (hasValidationErrors ? ' button__submit_error' : '')}\r\n                                    type=\"submit\"\r\n                                    disabled={pristine || hasValidationErrors}\r\n                                >\r\n                                    <div className='button__container'>\r\n                                        <div className='button__text'>\r\n                                            Сохранить\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    )\r\n                }\r\n                }\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FormPage\r\n","import React from 'react'\r\n\r\nconst Preview = ({ personData }) => {\r\n    return (\r\n        <div className='main__preview'>\r\n\r\n            {/* Person data display block */}\r\n            <div className='info-block'>\r\n                <div className='info-block__title'>Персональные данные</div>\r\n                {personData.name && <div\r\n                    className='info-block__data info-block__data_person'>{personData.name + ', ' + personData.age + ' лет'}</div>}\r\n            </div>\r\n\r\n            {/* Children data display block */}\r\n            <div className='info-block'>\r\n                {personData.children.length !== 0 && <div className='info-block__title '>Дети</div>}\r\n                <div className='info-block__data'>\r\n                    {personData.children.map(child => <div className='info-block__data_child' key={child.id}>\r\n                        {child.name + ', ' + child.age + ' лет'}\r\n                    </div>)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preview","import { Redirect, Route, Switch } from 'react-router-dom'\r\nimport FormPage from './FormPage'\r\nimport Preview from './Preview'\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n// import { connect } from 'react-redux'\r\n// import { setPersonData } from '../store/mainReducer'\r\n\r\nfunction MainContainer (props) {\r\n    const personData = useSelector(store => store.personData.personData)\r\n    return (\r\n        <main className='main'>\r\n            <Switch>\r\n                <Redirect exact from=\"/\" to=\"/form\"/>\r\n                <Route path=\"/form\"\r\n                       render={() => <FormPage personData={personData}/>}/>\r\n                <Route path=\"/preview\" render={() => <Preview personData={personData}/>}/>\r\n                <Route path=\"*\" render={() => <div> 404 Not Found </div>}/>\r\n            </Switch>\r\n        </main>)\r\n}\r\n\r\nexport default MainContainer\r\n\r\n// const mapStateToProps = (state) => ({\r\n//     personData: state.personData.personData\r\n// })\r\n// export default connect(mapStateToProps, {\r\n//     setPersonData,\r\n//\r\n// })(    MainContainer)\r\n\r\n\r\n","import './scss/App.scss'\nimport Header from './components/Header'\nimport React  from 'react'\nimport { BrowserRouter, Route, Redirect, Switch, HashRouter } from 'react-router-dom'\nimport Footer from './components/Footer'\nimport store from './store/store'\nimport { Provider } from 'react-redux'\nimport MainContainer from './components/MainContainer'\n\nconst App = () => {\n\n    return (\n        <div className=\"App\">\n{/* Из-за особенностей хостинга GitHub-Pages BrowserRouter пришлось заменить на HashRouter */}\n            {/*<BrowserRouter>*/}\n                <HashRouter>\n                <Header/>\n                <Provider store={store}>\n                    <MainContainer/>\n                </Provider>\n                <Footer/>\n                </HashRouter>\n            {/*</BrowserRouter>*/}\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App/>, document.getElementById('root'))\n"],"sourceRoot":""}