{"version":3,"sources":["img/svg/Logo_imi_horizontal.svg","components/Header.js","components/Footer.js","store/mainReducer.js","store/store.js","img/svg/plus.svg","components/FormPage.js","components/Preview.js","components/MainContainer.js","App.js","index.js"],"names":["Header","className","src","Logo_imi_horizontal","alt","activeClassName","to","Footer","SET_PERSON_DATA","initialState","personData","children","mainReducer","state","action","type","name","formData","age","reducers","combineReducers","store","createStore","FormPage","dispatch","useDispatch","history","useHistory","composeValidators","validators","value","reduce","error","validator","undefined","required","isName","test","isAge","Input","input","meta","fieldLabel","hasError","touched","onSubmit","setPersonData","push","mutators","arrayMutators","initialValues","render","handleSubmit","values","hasValidationErrors","pristine","form","component","validate","length","onClick","disabled","plus_icon","fields","map","index","hidden","initialValue","remove","style","cursor","Preview","child","id","MainContainer","useSelector","exact","from","path","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b0c609d1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo_imi_horizontal.ebc61eb0.svg\";","import React from 'react'\r\nimport Logo_imi_horizontal from '../img/svg/Logo_imi_horizontal.svg'\r\nimport {  NavLink } from 'react-router-dom'\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className='page-header'>\r\n        <img className='page-header__logo' src={Logo_imi_horizontal} alt=\"Alef Development\"/>\r\n            <nav className='page-header__nav-menu nav-menu'>\r\n                <NavLink className='nav-menu__link' activeClassName='nav-menu__active-link' to='/form'>Форма</NavLink>\r\n                <NavLink className='nav-menu__link' activeClassName='nav-menu__active-link' to='/preview'>Превью</NavLink>\r\n            </nav>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className='page-footer'>\r\n                <div className='page-footer__text'>all rights reserved</div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","const SET_PERSON_DATA = 'SET_PERSON_DATA'\r\n\r\nconst initialState = {\r\n    personData: {\r\n        // name: 'Василий',\r\n        // age: 25,\r\n        children: [\r\n            // { id: 1, name: 'Петр', age: 5 },\r\n            // { id: 2, name: 'Lena', age: 7 },\r\n            // { id: 3, name: 'Zhenya', age: 10 },\r\n        ],\r\n    }\r\n}\r\n\r\n/* Reducer */\r\nconst mainReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_PERSON_DATA:\r\n            // console.log(action.personData)\r\n            return {\r\n                personData: {\r\n                    name: action.formData.name,\r\n                    age: action.formData.age,\r\n                    children: [\r\n                        ...action.formData.children\r\n                    ]\r\n                }\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n/* Actions */\r\nexport const setPersonData = (formData) => ({ type: SET_PERSON_DATA, formData })\r\n\r\nexport default mainReducer","import { combineReducers, createStore } from 'redux'\r\nimport mainReducer from './mainReducer'\r\n\r\n\r\nconst reducers = combineReducers({\r\n    personData: mainReducer,\r\n})\r\n\r\nconst store = createStore(reducers);\r\n\r\n\r\nexport default store","export default __webpack_public_path__ + \"static/media/plus.26f09513.svg\";","import React from 'react'\r\nimport { Field, Form } from 'react-final-form'\r\nimport { FieldArray } from 'react-final-form-arrays'\r\nimport arrayMutators from 'final-form-arrays'\r\nimport { setPersonData } from '../store/mainReducer'\r\nimport plus_icon from '../img/svg/plus.svg'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst FormPage = ({ personData }) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const onsubmit = (formData) => {\r\n        dispatch(setPersonData(formData))\r\n        history.push('preview')\r\n    }\r\n\r\n    /* Validators */\r\n    const composeValidators = (...validators) => value =>\r\n        validators.reduce((error, validator) => error || validator(value), undefined)\r\n    const required = value =>\r\n        value\r\n            ? undefined\r\n            : 'Поле обязательно'\r\n    const isName = value =>\r\n        value && !/^[a-яА-Яa-zA-Z ]+$/.test(value)\r\n            ? `Не корректное имя`\r\n            : undefined\r\n    const isAge = value =>\r\n        value && (!/^[0-9]+$/.test(value) || +value < 0 || +value > 150)\r\n            ? `Не корректный возраст`\r\n            : undefined\r\n\r\n    /* Custom input */\r\n    const Input = ({ input, meta, fieldLabel = '' }) => {\r\n        const hasError = meta.touched && meta.error\r\n        return (\r\n            <div className={'input ' + (hasError ? ' input_error' : '')}>\r\n                <div className={'input__head'}>\r\n                    <div className='input__title'>{fieldLabel}</div>\r\n                    <div className='input__error'>{hasError && <span> {meta.error} </span>}</div>\r\n                </div>\r\n                <input className='input__field' {...input}  />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Form\r\n                onSubmit={onsubmit}\r\n                mutators={{ ...arrayMutators }}\r\n                initialValues={personData}\r\n                render={({\r\n                    handleSubmit, values, hasValidationErrors, pristine,\r\n                    form: { mutators: { push } }\r\n                }) => {\r\n                    return (\r\n                        <form onSubmit={handleSubmit} className='main__form-page'>\r\n\r\n                            {/* Person data input block */}\r\n                            <div className='form-block'>\r\n                                <div className='form-block__title'>Персональные данные</div>\r\n                                <div className='form-block__inputs form-block__inputs_person'>\r\n                                    <Field\r\n                                        name='name'\r\n                                        fieldLabel='Имя'\r\n                                        component={Input}\r\n                                        type='text'\r\n                                        validate={composeValidators(required, isName)}\r\n                                    />\r\n                                    <Field\r\n                                        name='age'\r\n                                        fieldLabel='Возраст'\r\n                                        component={Input}\r\n                                        type='number'\r\n                                        validate={composeValidators(required, isAge)}\r\n                                    />\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            {/* Add child button */}\r\n                            <button\r\n                                type=\"button\"\r\n                                className={'button button__add-child button__add-child_' +\r\n                                (!values.children.length\r\n                                    ? 'first'\r\n                                    : (values.children.length < 5\r\n                                        ? 'more'\r\n                                        : 'disabled'))}\r\n                                onClick={() => push('children', undefined)}\r\n                                disabled={values.children && values.children.length >= 5}\r\n                            >\r\n                                <div className='button__container'>\r\n                                    <img className='color-blue' src={plus_icon} alt='plus'/>\r\n                                    {values.children.length > 0 &&\r\n                                    <div className='button__text'>Добавить ребенка</div>}\r\n                                </div>\r\n                            </button>\r\n\r\n                            {/* Children data input block */}\r\n                            <div className='form-block'>\r\n                                {values.children.length > 0 && <div className='form-block__title'>Дети (макс.5)</div>}\r\n                                <div className='form-block__inputs'>\r\n                                    {/* Array of child data inputs */}\r\n                                    <FieldArray name=\"children\">\r\n                                        {({ fields }) =>\r\n                                            fields.map((name, index) => {\r\n                                                return (\r\n                                                    /* Child input block */\r\n                                                    <div className='form-block__inputs_child' key={index}>\r\n                                                        <Field\r\n                                                            name={`${name}.id`}\r\n                                                            component=\"input\"\r\n                                                            hidden={true}\r\n                                                            initialValue={index}\r\n                                                        />\r\n                                                        <Field\r\n                                                            name={`${name}.name`}\r\n                                                            fieldLabel='Имя'\r\n                                                            component={Input}\r\n                                                            type='text'\r\n                                                            validate={composeValidators(required, isName)}\r\n                                                        />\r\n                                                        <Field\r\n                                                            name={`${name}.age`}\r\n                                                            fieldLabel='Возраст'\r\n                                                            component={Input}\r\n                                                            type='number'\r\n                                                            validate={composeValidators(required, isAge)}\r\n                                                        />\r\n                                                        <div className='form-block__button-delete'\r\n                                                             onClick={() => fields.remove(index)}\r\n                                                             style={{ cursor: 'pointer' }}\r\n                                                        >\r\n                                                            Удалить\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </FieldArray>\r\n                                </div>\r\n\r\n                                {/* Submit button */}\r\n                                <button\r\n                                    className={'button button__submit  button__submit_' + (!values.children.length\r\n                                        ? 'zero-child'\r\n                                        : 'one-child') + (hasValidationErrors ? ' button__submit_error' : '')}\r\n                                    type=\"submit\"\r\n                                    disabled={pristine || hasValidationErrors}\r\n                                >\r\n                                    <div className='button__container'>\r\n                                        <div className='button__text'>\r\n                                            Сохранить\r\n                                        </div>\r\n                                    </div>\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    )\r\n                }\r\n                }\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FormPage\r\n","import React from 'react'\r\n\r\nconst Preview = ({ personData }) => {\r\n    return (\r\n        <div className='main__preview'>\r\n\r\n            {/* Person data display block */}\r\n            <div className='info-block'>\r\n                <div className='info-block__title'>Персональные данные</div>\r\n                {personData.name && <div\r\n                    className='info-block__data info-block__data_person'>{personData.name + ', ' + personData.age + ' лет'}</div>}\r\n            </div>\r\n\r\n            {/* Children data display block */}\r\n            <div className='info-block'>\r\n                {personData.children.length !== 0 && <div className='info-block__title '>Дети</div>}\r\n                <div className='info-block__data'>\r\n                    {personData.children.map(child => <div className='info-block__data_child' key={child.id}>\r\n                        {child.name + ', ' + child.age + ' лет'}\r\n                    </div>)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preview","import { Redirect, Route, Switch } from 'react-router-dom'\r\nimport FormPage from './FormPage'\r\nimport Preview from './Preview'\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\n\r\nfunction MainContainer () {\r\n    const personData = useSelector(store => store.personData.personData)\r\n    return (\r\n        <main className='main'>\r\n            <Switch>\r\n                <Redirect exact from=\"/\" to=\"/form\"/>\r\n                <Route path=\"/form\"\r\n                       render={() => <FormPage personData={personData}/>}/>\r\n                <Route path=\"/preview\" render={() => <Preview personData={personData}/>}/>\r\n                <Route path=\"*\" render={() => <div> 404 Not Found </div>}/>\r\n            </Switch>\r\n        </main>)\r\n}\r\n\r\nexport default MainContainer\r\n\r\n\r\n\r\n","import './scss/App.scss'\nimport Header from './components/Header'\nimport React  from 'react'\nimport {\n    // BrowserRouter,\n    HashRouter } from 'react-router-dom'\nimport Footer from './components/Footer'\nimport store from './store/store'\nimport { Provider } from 'react-redux'\nimport MainContainer from './components/MainContainer'\n\nconst App = () => {\n\n    return (\n        <div className=\"App\">\n{/* Из-за особенностей хостинга GitHub-Pages BrowserRouter пришлось заменить на HashRouter */}\n            {/*<BrowserRouter>*/}\n                <HashRouter>\n                <Header/>\n                <Provider store={store}>\n                    <MainContainer/>\n                </Provider>\n                <Footer/>\n                </HashRouter>\n            {/*</BrowserRouter>*/}\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App/>, document.getElementById('root'))\n"],"sourceRoot":""}